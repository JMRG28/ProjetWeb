<!DOCTYPE HTML>
<html>
<head>
  <title>OpenLayers Simplest Example</title>
  <script src="js/OpenLayers-2.13.1/OpenLayers.js"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <style>
  #Map {
      border-radius: 10px;
      overflow: hidden;
  }

  #Map div canvas{
      border-radius: 10px;
  }
  </style>
  <script>

  function loadMap(){
    var latU;
    var lngU;
    $.getJSON('https://api.opencagedata.com/geocode/v1/json?q='+document.getElementById("add").value+'&key=816e747854f64c8389a43b269e5b74d9&language=en&pretty=1',
    function(a){
      console.log(a["results"][0]["geometry"]);
      latU=a["results"][0]["geometry"]["lat"];
      lngU=a["results"][0]["geometry"]["lng"];
      var lat            = latU;
      var lon            = lngU;
      var zoom           = 14;
      console.log(lat);
      console.log(lon);

      var fromProjection = new OpenLayers.Projection("EPSG:4326");   // Transform from WGS 1984
      var toProjection   = new OpenLayers.Projection("EPSG:900913"); // to Spherical Mercator Projection
      var position       = new OpenLayers.LonLat(lon, lat).transform( fromProjection, toProjection);

      map = new OpenLayers.Map("Map");
      var mapnik         = new OpenLayers.Layer.OSM();
      map.addLayer(mapnik);

      var markers = new OpenLayers.Layer.Markers( "Markers" );
      map.addLayer(markers);
      markers.addMarker(new OpenLayers.Marker(position));

      map.setCenter(position, zoom);
    });

  }
</script>
</head>
<body>
  <input type="text" value="2 rue du petit paris montpellier" id="add">
  <button onclick="loadMap()">sna</button>
  <div id="Map" style="height:250px; width:250px;"></div>


</body>
</html>
